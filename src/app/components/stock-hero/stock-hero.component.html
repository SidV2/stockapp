<section class="hero">
  <div class="hero__header">
    <div class="hero__identity">
      <span class="hero__symbol">{{ detail()?.symbol }}</span>
      <span class="hero__company">{{ detail()?.company }}</span>
    </div>
  </div>
  <div class="hero__quote">
    <div class="hero__price">
      <span>{{ animatedPrice() | number:'1.2-2' }}</span>
      <span class="hero__currency">USD</span>
    </div>
    <div class="hero__change" 
         [class.hero__change--up]="animatedChangePercent() != null && animatedChangePercent()! >= 0" 
         [class.hero__change--down]="animatedChangePercent() != null && animatedChangePercent()! < 0">
      <svg viewBox="0 0 12 12" aria-hidden="true">
        <path d="M6 1 11 6 9.6 7.4 6.9 4.7v6.3H5.1V4.7L2.4 7.4 1 6z" />
      </svg>
      <span>{{ animatedChange() | number:'1.2-2' }} ({{ animatedChangePercent() | number:'1.2-2' }}%)</span>
    </div>
    <div class="hero__timestamp">
      {{ selectedTimeframe() === 'Live' ? 'Updated' : 'As of' }} {{ displayUpdatedAt() | date:'MMM d, y h:mm a' }}
    </div>
  </div>
  <div class="hero__timeframes">
    @for (range of timeframes(); track range) {
      <button
        type="button"
        class="chip"
        [class.chip--active]="range === selectedTimeframe()"
        (click)="onTimeframeSelect(range)"
      >
        {{ range }}
      </button>
    }
  </div>
  <div class="hero__chart" #chartContainer>
    <app-sparkline
      [values]="sparklineHistory()"
      [width]="chartWidth()"
      [height]="180"
      [stroke]="animatedChangePercent() != null && animatedChangePercent()! >= 0 ? '#16a34a' : '#dc2626'"
    />
  </div>
  <p class="hero__summary">{{ detail()?.summary }}</p>
</section>
